<!DOCTYPE html >
<html>
<head>
	<title>test</title>
	<script src="jquery.js"></script>
	<script src="loader_0.2.js"></script>
</head>
<body>
	<div id="ss"> </div>
	<button id="start">Start</button>
	<script>
		$(function() {
			if(typeof console === "undefined") {
				// for IE
				console = {};
				console.log = function() {};
			}
			/*
			$("#start").click(function() {
				$.ajax({
					url: "mod.js",
					dataType: "script",
					success: function(data) {
						debugger;
						var obj = eval(data);
						console.log("out:", obj.description());
						$("#ss").html(obj.description());
					}
				});

				return false;
			})
			*/
			window.moduleDir = "modules/";
			$("#start").click(function() {
				var mod = require("mod1", true, function(mod) {
					$("#ss").html(mod.description());
				});
				require("mod2");
				console.log("return mod=", mod); // 异步时，mod=null
			})
		})
	</script>
</body>
</html>
